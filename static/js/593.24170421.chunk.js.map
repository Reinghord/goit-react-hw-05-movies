{"version":3,"file":"static/js/593.24170421.chunk.js","mappings":"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","sources":["api/tmdb_api.js","webpack://react-homework-template/./src/views/MovieDetails.module.css?c107","views/MovieDetails.jsx"],"sourcesContent":["//Function to fetch trending movies\nexport async function fetchTitles() {\n  const BASIC_URL = `https://api.themoviedb.org/3`;\n  const searchParam = new URLSearchParams({\n    api_key: '44d6575d8f8dedfd36c7023de34a30c4',\n  });\n  try {\n    const response = await fetch(\n      `${BASIC_URL}/trending/movie/day?${searchParam}`\n    );\n    const parsed = await response.json();\n    const titles = parsed.results;\n    return titles;\n  } catch (error) {\n    throw new Error(console.log(error));\n  }\n}\n\n//Function to fetch searched movies\nexport async function fetchMovies(searchQuery) {\n  const BASIC_URL = `https://api.themoviedb.org/3`;\n  const searchParam = new URLSearchParams({\n    api_key: '44d6575d8f8dedfd36c7023de34a30c4',\n    query: searchQuery,\n  });\n  try {\n    const response = await fetch(`${BASIC_URL}/search/movie?${searchParam}`);\n    const parsed = await response.json();\n    const titles = parsed.results;\n    return titles;\n  } catch (error) {\n    throw new Error(console.log(error));\n  }\n}\n\n//Function to fetch movie details\nexport async function fetchMovieDetails(movieId) {\n  const BASIC_URL = `https://api.themoviedb.org/3`;\n  const searchParam = new URLSearchParams({\n    api_key: '44d6575d8f8dedfd36c7023de34a30c4',\n  });\n  try {\n    const response = await fetch(\n      `${BASIC_URL}/movie/${movieId}?${searchParam}`\n    );\n    const parsed = await response.json();\n    return parsed;\n  } catch (error) {\n    throw new Error(console.log(error));\n  }\n}\n\n//Function to fetch movie cast\nexport async function fetchMovieCast(movieId) {\n  const BASIC_URL = `https://api.themoviedb.org/3`;\n  const searchParam = new URLSearchParams({\n    api_key: '44d6575d8f8dedfd36c7023de34a30c4',\n  });\n  try {\n    const response = await fetch(\n      `${BASIC_URL}/movie/${movieId}/credits?${searchParam}`\n    );\n    const parsed = await response.json();\n    return parsed;\n  } catch (error) {\n    throw new Error(console.log(error));\n  }\n}\n\n//Function to fetch movie reviews\nexport async function fetchMovieReviews(movieId) {\n  const BASIC_URL = `https://api.themoviedb.org/3`;\n  const searchParam = new URLSearchParams({\n    api_key: '44d6575d8f8dedfd36c7023de34a30c4',\n  });\n  try {\n    const response = await fetch(\n      `${BASIC_URL}/movie/${movieId}/reviews?${searchParam}`\n    );\n    const parsed = await response.json();\n    return parsed;\n  } catch (error) {\n    throw new Error(console.log(error));\n  }\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"link__back\":\"MovieDetails_link__back__ooznR\",\"wrapper\":\"MovieDetails_wrapper__5AnKJ\",\"subwrapper\":\"MovieDetails_subwrapper__JYkjE\"};","import { useState, useEffect, lazy, Suspense } from 'react';\nimport {\n  useParams,\n  useLocation,\n  NavLink,\n  Route,\n  Routes,\n} from 'react-router-dom';\nimport { fetchMovieDetails } from 'api/tmdb_api';\nimport s from './MovieDetails.module.css';\n\nconst Cast = lazy(() => import('./Cast'));\nconst Reviews = lazy(() => import('./Reviews'));\n\nfunction MovieDetails() {\n  const [details, setDetails] = useState();\n\n  const params = useParams();\n  const location = useLocation();\n\n  //Fetching moview details during mounting\n  useEffect(() => {\n    try {\n      async function fetchMovie() {\n        const result = await fetchMovieDetails(params.movieId);\n        setDetails(result);\n      }\n      fetchMovie();\n    } catch (error) {\n      console.log(error);\n    }\n  }, [params]);\n\n  return (\n    <div>\n      <NavLink\n        to={\n          location.state?.from.pathname + location.state?.from.search ??\n          '/movies'\n        }\n        className={s.link__back}\n      >\n        Go back\n      </NavLink>\n\n      <div className={s.wrapper}>\n        {details && (\n          <img\n            src={`https://image.tmdb.org/t/p/w500/${details.backdrop_path}`}\n            alt={details.title}\n          />\n        )}\n\n        <div className={s.subwrapper}>\n          <h1>\n            {details && details.title} (\n            {details && details.release_date.slice(0, 4)})\n          </h1>\n          <p>Userscore: {details && details.vote_average}</p>\n          <h2>Overview</h2>\n          <p>{details && details.overview}</p>\n          <h3>Genres</h3>\n          <p>{details && details.genres.map(genre => genre.name).join(', ')}</p>\n        </div>\n\n        <div>\n          <p>Additional information</p>\n          <ul>\n            <li>\n              <NavLink to=\"cast\">Cast</NavLink>\n            </li>\n            <li>\n              <NavLink to=\"reviews\">Reviews</NavLink>\n            </li>\n          </ul>\n        </div>\n      </div>\n\n      <Suspense fallback={<div>Loading...</div>}>\n        <Routes>\n          <Route path=\"cast\" element={<Cast />} />\n          <Route path=\"reviews\" element={<Reviews />} />\n        </Routes>\n      </Suspense>\n    </div>\n  );\n}\n\nexport default MovieDetails;\n"],"names":["fetchTitles","searchParam","URLSearchParams","api_key","fetch","response","json","parsed","titles","results","Error","console","log","fetchMovies","searchQuery","query","fetchMovieDetails","movieId","fetchMovieCast","fetchMovieReviews","Cast","lazy","Reviews","useState","details","setDetails","params","useParams","location","useLocation","useEffect","fetchMovie","result","error","to","state","from","pathname","search","className","s","src","backdrop_path","alt","title","release_date","slice","vote_average","overview","genres","map","genre","name","join","Suspense","fallback","path","element"],"sourceRoot":""}