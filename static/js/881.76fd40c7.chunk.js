"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[881],{128:function(e,t,r){r.d(t,{Hx:function(){return m},Y5:function(){return f},uV:function(){return d},vw:function(){return p},zf:function(){return u}});var n=r(861),c=r(757),a=r.n(c),s="https://api.themoviedb.org/3",o=new URLSearchParams({api_key:"44d6575d8f8dedfd36c7023de34a30c4"});function u(){return i.apply(this,arguments)}function i(){return(i=(0,n.Z)(a().mark((function e(){var t,r,n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(s,"/trending/movie/day?").concat(o));case 3:return t=e.sent,e.next=6,t.json();case 6:return r=e.sent,n=r.results,e.abrupt("return",n);case 11:throw e.prev=11,e.t0=e.catch(0),new Error(console.log(e.t0));case 14:case"end":return e.stop()}}),e,null,[[0,11]])})))).apply(this,arguments)}function p(e){return l.apply(this,arguments)}function l(){return l=(0,n.Z)(a().mark((function e(t){var r,n,c,o;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=new URLSearchParams({api_key:"44d6575d8f8dedfd36c7023de34a30c4",query:t}),e.prev=1,e.next=4,fetch("".concat(s,"/search/movie?").concat(r));case 4:return n=e.sent,e.next=7,n.json();case 7:return c=e.sent,o=c.results,e.abrupt("return",o);case 12:throw e.prev=12,e.t0=e.catch(1),new Error(console.log(e.t0));case 15:case"end":return e.stop()}}),e,null,[[1,12]])}))),l.apply(this,arguments)}function f(e){return h.apply(this,arguments)}function h(){return(h=(0,n.Z)(a().mark((function e(t){var r,n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(s,"/movie/").concat(t,"?").concat(o));case 3:return r=e.sent,e.next=6,r.json();case 6:return n=e.sent,e.abrupt("return",n);case 10:throw e.prev=10,e.t0=e.catch(0),new Error(console.log(e.t0));case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}function d(e){return v.apply(this,arguments)}function v(){return(v=(0,n.Z)(a().mark((function e(t){var r,n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(s,"/movie/").concat(t,"/credits?").concat(o));case 3:return r=e.sent,e.next=6,r.json();case 6:return n=e.sent,e.abrupt("return",n);case 10:throw e.prev=10,e.t0=e.catch(0),new Error(console.log(e.t0));case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}function m(e){return w.apply(this,arguments)}function w(){return(w=(0,n.Z)(a().mark((function e(t){var r,n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(s,"/movie/").concat(t,"/reviews?").concat(o));case 3:return r=e.sent,e.next=6,r.json();case 6:return n=e.sent,e.abrupt("return",n);case 10:throw e.prev=10,e.t0=e.catch(0),new Error(console.log(e.t0));case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}},881:function(e,t,r){r.r(t),r.d(t,{default:function(){return x}});var n=r(861),c=r(885),a=r(757),s=r.n(a),o=r(791),u=r(501),i=r(871),p=r(128),l="Movies_list__hqYjd",f="Movies_link__MzAfU",h="Movies_item__Ba4aJ",d="Movies_form__4ow+Z",v="Movies_button__GcIka",m="Movies_input__KrUqs",w=r(184);var x=function(){var e,t=(0,o.useState)([]),r=(0,c.Z)(t,2),a=r[0],x=r[1],_=(0,o.useState)("idle"),y=(0,c.Z)(_,2),k=y[0],j=y[1],b=(0,u.lr)(),g=(0,c.Z)(b,2),Z=g[0],E=g[1],M=null!==(e=Z.get("name"))&&void 0!==e?e:"",N=(0,i.TH)();(0,o.useEffect)((function(){function e(){return(e=(0,n.Z)(s().mark((function e(){var t;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,p.vw)(M);case 2:if(0!==(t=e.sent).length){e.next=5;break}return e.abrupt("return",j("rejected"));case 5:x(t),j("loaded");case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}M&&function(){e.apply(this,arguments)}()}),[M]);var S=function(){var e=(0,n.Z)(s().mark((function e(t){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),t.currentTarget.search.value.trim()){e.next=3;break}throw new Error("Empty string is not allowed!");case 3:r=t.currentTarget.search.value,E(""!==r?{name:r}:{});case 4:case"end":return e.stop()}var r}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,w.jsxs)(w.Fragment,{children:[(0,w.jsxs)("form",{onSubmit:S,className:d,children:[(0,w.jsx)("input",{type:"text",name:"search",autoComplete:"off",autoFocus:!0,placeholder:"Search movies",className:m}),(0,w.jsx)("button",{type:"submit",className:v,children:(0,w.jsx)("span",{children:"Search"})})]}),"idle"===k&&(0,w.jsx)("div",{children:"Try to seach something!"}),"rejected"===k&&(0,w.jsx)("div",{children:"Nothing found, folks!"}),"loaded"===k&&(0,w.jsx)("ul",{className:l,children:a.map((function(e){return(0,w.jsx)("li",{className:h,children:(0,w.jsx)(u.rU,{to:"".concat(e.id),state:{from:N},className:f,children:e.title})},e.id)}))})]})}}}]);
//# sourceMappingURL=881.76fd40c7.chunk.js.map